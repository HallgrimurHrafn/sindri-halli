extends pages

block content
  .table
    br
    table.indexTable
      thead
        tr.thead
          if title == 'Front'
            th
              button.noClick.faded-green Category
          th
            if sort == 'name'
              button.noClick.green User
            else

              form(method='get' action='/sort=name&page=0')
                button.btn(type='submit') User
          th
            if sort == 'title'
              button.noClick.green Title
            else

              form(method='get' action='/sort=title&page=0')
                button.btn(type='submit') Title
          th
            if sort == 'comnum'
              button.noClick.green Comments
            else
              form(method='get' action='/sort=comnum&page=0')
                button.btn(type='submit') Comments
          th
            if sort == 'views'
              button.noClick.green Views
            else

              form(method='get' action='/sort=views&page=0')
                button.btn(type='submit') Views
          th
            if sort == 'mdate'
              button.noClick.green Last Modified
            else

              form(method='get' action='/sort=mdate&page=0')
                button.btn(type='submit') Last Modified
      tbody
        -i = 0
        each thread in threads
          -id = '/threadid=' + JSON.stringify(thread.id) + '&page=0'
          if i == 0
            - i++
            tr.colorRow
              if title == 'Front'
                td.sub
                  form(method='get' action=id)
                    button.btn-sub(type='submit')= thread.sub
              td.name
                form(method='get' action=id)
                  button.btn-name(type='submit')= thread.name
              td.title
                form(method='get' action=id)
                  button.btn-title(type='submit')= thread.title
              td.comnum
                form(method='get' action=id)
                  button.btn-comnum(type='submit')= thread.comnum
              td.views
                form(method='get' action=id)
                  button.btn-views(type='submit')= thread.views
              -date = '' + thread.mdate
              -date = date.slice(0,-18)
              td.mdate
                form(method='get' action=id)
                  button.btn-mdate(type='submit')= date
          else

            - i--
            tr
              if title == 'Front'
                td.sub
                  form(method='get' action=id)
                    button.btn-sub(type='submit')= thread.sub
              td.name
                form(method='get' action=id)
                  button.btn-name(type='submit')= thread.name
              td.title
                form(method='get' action=id)
                  button.btn-title(type='submit')= thread.title
              td.comnum
                form(method='get' action=id)
                  button.btn-comnum(type='submit')= thread.comnum
              td.views
                form(method='get' action=id)
                  button.btn-views(type='submit')= thread.views
              -date = '' + thread.mdate
              -date = date.slice(0,-18)
              td.mdate
                form(method='get' action=id)
                  button.btn-mdate(type='submit')= date

  br
