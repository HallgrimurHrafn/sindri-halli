extends layout

block content
  h1.title= thread.title
  if page == 0
    h3.OPname= thread.name
    div.OP
      p.OPtext= thread.paragraph

  div.comments
    each comment in comments
      hr
      div.comment
        p.username
          strong= comment.name
        p.text= comment.paragraph
  br

  p= Pnum
  p= page + 1
  -id = '/threadid=' + JSON.stringify(thread.id)
  -id = id + '&page='
  -n=1
  hr
  nav
    while n < Pnum
      if n = page
        p= n + 1
      else
        a(href=(id + n))= n + 1
      -n++
  hr
  br

  -id = id + page

  h3 Tjáðu þig um málið hér.
  form(method='post' action=id)
    div
      input(
        type='text'
        name='name'
        placeholder='Username'
        pattern='.{2,64}'
        required title='must be 2-64 characters'
      )
    div
      textarea(
        lang='is'
        type='text'
        name='paragraph'
        rows='10'
        cols='30'
        pattern='.{3,10000}'
        required title='must be 3-10000 characters'
      )
    div
      button(type='submit') Comment
