extends layout

block content
  h1.title= thread.title
  if page == 0
    h3.OPname= thread.name
    div.OP
      p.OPtext= thread.paragraph

  div.comments
    each comment in comments
      hr
      div.comment
        p.username
          strong= comment.name
        p.text= comment.paragraph
  br

  -id = '/threadid=' + JSON.stringify(thread.id)
  -id = id + '&page=' + page


block content2
  h3 Leave a comment below
  form(method='post' action=id)
    div
      input(
        type='text'
        name='name'
        placeholder='Username'
        pattern='.{2,64}'
        required title='must be 2-64 characters'
      )
    div
      textarea(
        lang='is'
        type='text'
        name='paragraph'
        rows='10'
        cols='30'
        pattern='.{3,10000}'
        required title='must be 3-10000 characters'
      )
    div
      button(type='submit') Comment
